<!DOCTYPE html>
<html lang="ук">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Libre Vault</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Напівпрозорий хедер: лого по центру, бургер справа -->
    <header class="site-header" role="banner">
        <div class="header-inner">
            <div class="header-spacer"></div>
            <div class="logo-container header-logo" aria-label="Libre Vault">
                <img src="photo/Group16.svg" alt="Libre Vault">
            </div>
            <button class="burger" id="burger-btn" aria-label="Меню" aria-expanded="false" aria-controls="burger-menu">
                <span></span><span></span><span></span>
            </button>

            <!-- Випадаюче меню бургеру -->
            <nav class="burger-menu" id="burger-menu" role="navigation">
                <button class="menu-item" data-target="#art">Art</button>
                <button class="menu-item" data-target="#books">Books</button>
                <button class="menu-item" data-target="#apps">Apps/Games</button>
            </nav>
        </div>
    </header>

    <!-- КНОПКИ СЕКЦІЙ (залишаються) -->
    <button class="section-toggle active" data-target="#art" aria-expanded="true">Art</button>
    <div id="art" class="section-panel open" style="max-height:none">
        <div class="gallery">
            <div class="item">
                <div class="card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/CartinaA.png" alt="Картина 1">
                        </div>
                        <div class="card-face card-back">
                            <p>В букві "А" є продовження</p>
                        </div>
                    </div>
                </div>
                <div class="caption">"Аа" 2025</div>
            </div>

            <div class="item">
                <div class="card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/lohopitek.png" alt="Картина 2">
                        </div>
                        <div class="card-face card-back">
                            <p>еволюція</p>
                        </div>
                    </div>
                </div>
                <div class="caption">"Лохопітек" 2025</div>
            </div>

            <div class="item">
                <div class="card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/shliah.png" alt="Картина 3">
                        </div>
                        <div class="card-face card-back">
                            <p>Шлях вверх</p>
                        </div>
                    </div>
                </div>
                <div class="caption">"Шлях" 2025</div>
            </div>

            <div class="item">
                <div class="card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/usmishka.png" alt="Картина 4">
                        </div>
                        <div class="card-face card-back">
                            <p>Більше посмішки</p>
                        </div>
                    </div>
                </div>
                <div class="caption">"Усмішка" 2025</div>
            </div>

            <div class="item">
                <div class="card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/a.jpg" alt="Картина 5">
                        </div>
                        <div class="card-face card-back">
                            <p>Кожен може бути загнаним в куток як ця буква</p>
                        </div>
                    </div>
                </div>
                <div class="caption">"А в кутку" 2025</div>
            </div>
        </div>
    </div>

    <button class="section-toggle" data-target="#books" aria-expanded="false">Books</button>
    <div id="books" class="section-panel">
        <div class="gallery">
            <div class="item">
                <div class="card book-card" onclick="this.classList.toggle('flipped')">
                    <div class="card-inner">
                        <div class="card-face card-front">
                            <img src="photo/sto.jpg" alt="Book 1">
                        </div>
                        <div class="card-face card-back">
                            <p>Концептуальна книга з ідеєю</p>
                        </div>
                    </div>
                </div>
                <div class="caption">100(сто)</div>
            </div>
        </div>
    </div>

    <button class="section-toggle" data-target="#apps" aria-expanded="false">Apps/Games</button>
    <div id="apps" class="section-panel">
        <div class="gallery"></div>
    </div>

    <script>
        // ====== АКОРДЕОН СЕКЦІЙ (твоя логіка) ======
        const DURATION = 400;
        const LAST_DELAY = 300;
        const BUFFER = 80;
        const toggles = document.querySelectorAll('.section-toggle');

        function openPanel(panel, btn) {
            btn.classList.add('active');
            btn.setAttribute('aria-expanded', 'true');
            panel.classList.add('open');
            panel.classList.remove('closing');
            panel.style.maxHeight = panel.scrollHeight + 'px';
            panel.addEventListener('transitionend', function once() {
                if (panel.classList.contains('open')) panel.style.maxHeight = 'none';
                panel.removeEventListener('transitionend', once);
            });
        }

        function closePanel(panel, btn) {
            btn.classList.remove('active');
            btn.setAttribute('aria-expanded', 'false');
            panel.classList.add('closing');
            panel.style.maxHeight = panel.scrollHeight + 'px';
            setTimeout(() => {
                panel.classList.remove('open');
                panel.classList.remove('closing');
                panel.style.maxHeight = '0px';
            }, DURATION + LAST_DELAY + BUFFER);
        }

        toggles.forEach(btn => {
            const panel = document.querySelector(btn.dataset.target);
            btn.addEventListener('click', () => {
                const isOpen = panel.classList.contains('open');
                if (isOpen) {
                    closePanel(panel, btn);
                } else {
                    openPanel(panel, btn);
                    panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // ====== БУРГЕР ======
        const burgerBtn  = document.getElementById('burger-btn');
        const burgerMenu = document.getElementById('burger-menu');

        function closeBurger() {
            burgerMenu.classList.remove('show');
            burgerBtn.classList.remove('open');
            burgerBtn.setAttribute('aria-expanded', 'false');
        }

        burgerBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            burgerMenu.classList.toggle('show');
            burgerBtn.classList.toggle('open');
            burgerBtn.setAttribute('aria-expanded', burgerBtn.classList.contains('open') ? 'true' : 'false');
        });

        // Закриття поза меню
        document.addEventListener('click', (e) => {
            if (!burgerMenu.contains(e.target) && !burgerBtn.contains(e.target)) closeBurger();
        });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeBurger(); });

        // Пункти меню: якщо панель вже відкрита — не закриваємо, лише скролимо.
        // Якщо закрита — відкриваємо (як натисканням на кнопку секції).
        burgerMenu.querySelectorAll('.menu-item').forEach(mi => {
            mi.addEventListener('click', () => {
                const targetSel = mi.getAttribute('data-target');
                const panel = document.querySelector(targetSel);
                const btn = document.querySelector(`.section-toggle[data-target="${targetSel}"]`);

                if (panel && btn) {
                    const alreadyOpen = panel.classList.contains('open');
                    if (!alreadyOpen) {
                        // відкриваємо як через кнопку (зберігаємо твою анімацію/логіку)
                        openPanel(panel, btn);
                    }
                    closeBurger();
                    panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    closeBurger();
                }
            });
        });
    </script>
</body>
</html>
