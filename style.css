:root{
  --card-max: 256px;
  --gap: 16px;
  --radius: 12px;
  --caption: #222;
  --accent: #444;
  --title-gap-y: 24px;
  --panel-gap-top: 20px;

  /* Хедер */
  --header-bg: rgba(255,255,255,0.85);
  --header-border: rgba(0,0,0,.08);
  --header-pad-x: 16px;
  --header-pad-y: 12px;
  --header-h: 72px;

  /* Меню */
  --menu-bg: #fff;
  --menu-shadow: 0 10px 30px rgba(0,0,0,.12);
  --menu-radius: 14px;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:'Roboto', sans-serif;
  background:#f0f0f0;
}

/* ===== ХЕДЕР: прозорий, blur, лого по центру, бургер справа, мовний зліва ===== */
.site-header{
  position: sticky;
  top: 0;
  z-index: 1000;
  background: var(--header-bg);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--header-border);
}
.header-inner{
  max-width: 1600px;
  margin: 0 auto;
  padding: 0 var(--header-pad-x);
  min-height: var(--header-h);
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* ліво (Uk/Ua) | центр (лого) | право (бургер) */
  align-items: center;
  position: relative;
}

/* Ліворуч: перемикач мови */
.lang-wrap{ display:flex; align-items:center; }
.lang-toggle{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:12px;
  border:1px solid rgba(0,0,0,.08);
  background: rgba(255,255,255,.6);
  backdrop-filter: blur(4px);
  cursor:pointer;
  font-family:'Playfair Display', serif; font-size:.95rem; color:var(--accent);
}
.lang-toggle .sep{ opacity:.6; }
.lang-toggle .opt{ opacity:.45; transition:opacity .15s ease; }
.lang-toggle .opt.active{ opacity:1; }

/* Центр: логотип */
.header-logo{
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
.logo-container img{
  width: 190px;
  height: auto;
  max-width: 90%;
}

/* Праворуч: бургер */
.burger{
  justify-self: end;
  width: 38px;
  height: 28px;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: stretch;
}
.burger span{
  display:block;
  height:3px;
  border-radius:2px;
  background: var(--accent);
  transition: transform .25s ease, opacity .25s ease;
}
.burger.open span:nth-child(1){ transform: translateY(9px) rotate(45deg); }
.burger.open span:nth-child(2){ opacity:0; }
.burger.open span:nth-child(3){ transform: translateY(-9px) rotate(-45deg); }

/* Випадаюче меню під бургером */
.burger-menu{
  position: absolute;
  right: var(--header-pad-x);
  top: calc(100% + 10px);
  background: var(--menu-bg);
  border: 1px solid var(--header-border);
  box-shadow: var(--menu-shadow);
  border-radius: var(--menu-radius);
  padding: 10px;
  display: grid;
  gap: 6px;
  opacity: 0;
  transform: translateY(-6px);
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}
.burger-menu.show{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.menu-item{
  appearance: none;
  border: none;
  background: #fafafa;
  padding: 10px 14px;
  border-radius: 10px;
  font-family:'Playfair Display', serif;
  font-size: 1.05rem;
  color: var(--accent);
  text-align: right;
  cursor: pointer;
  transition: transform .12s ease, background .12s ease;
}
.menu-item:hover{ transform: translateX(-2px); background: #f2f2f2; }

/* ===== КНОПКИ СЕКЦІЙ ===== */
.section-toggle{
  display:block;
  width:max-content;
  margin:var(--title-gap-y) auto 6px;
  padding:6px 10px;
  background:transparent;
  border:none;
  cursor:pointer;
  font-family:'Playfair Display', serif;
  font-size:1.4rem;
  color:var(--accent);
  position:relative;
  outline-offset:4px;
}
.section-toggle::after{
  content:'';
  position:absolute;
  left:50%;
  bottom:-8px;
  width:60px; height:3px;
  background:var(--accent);
  border-radius:2px;
  opacity:0;
  transform:translateX(-50%) scaleX(0.2);
  transform-origin:center;
  transition:opacity .25s ease, transform .25s ease;
}
.section-toggle.active::after{
  opacity:1;
  transform:translateX(-50%) scaleX(1);
}
.section-toggle:hover{ filter:brightness(0.9); }

/* ===== ПАНЕЛІ ТА КАРТКИ ===== */
.section-panel{
  overflow:hidden;
  max-height:0;
  transition:max-height .35s ease;
  margin-top: var(--panel-gap-top);
}
.section-panel.open{
  overflow:visible;
  max-height:none;
}
.section-panel .item{
  opacity:0;
  transform: translateY(20px);
  transition: opacity .4s ease, transform .4s ease;
}
.section-panel.open .item{
  opacity:1;
  transform: translateY(0);
}
.section-panel.open .item:nth-child(1) { transition-delay: .05s; }
.section-panel.open .item:nth-child(2) { transition-delay: .10s; }
.section-panel.open .item:nth-child(3) { transition-delay: .15s; }
.section-panel.open .item:nth-child(4) { transition-delay: .20s; }
.section-panel.open .item:nth-child(5) { transition-delay: .25s; }
.section-panel.open .item:nth-child(6) { transition-delay: .30s; }
.section-panel.closing .item{
  opacity:0;
  transform: translateY(20px);
}
.section-panel.closing .item:nth-child(1) { transition-delay: .30s; }
.section-panel.closing .item:nth-child(2) { transition-delay: .25s; }
.section-panel.closing .item:nth-child(3) { transition-delay: .20s; }
.section-panel.closing .item:nth-child(4) { transition-delay: .15s; }
.section-panel.closing .item:nth-child(5) { transition-delay: .10s; }
.section-panel.closing .item:nth-child(6) { transition-delay: .05s; }

.gallery{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 256px));
  gap:var(--gap);
  justify-content:center;
  max-width:1600px;
  margin:0 auto 24px;
  padding:0 12px;
}
.item{ display:flex; flex-direction:column; align-items:center; }
.card{
  position:relative;
  width:100%;
  aspect-ratio:1/1;
  max-width:var(--card-max);
  perspective:1000px;
  isolation:isolate;
  transition:transform .3s ease;
}
.card:hover{ transform:scale(1.03); }
.card-inner{
  position:relative;
  width:100%; height:100%;
  transform-style:preserve-3d;
  transition:transform .6s;
  transform-origin:center;
  cursor:pointer;
}
.card.flipped .card-inner{ transform:rotateY(180deg); }
.card.flipped{ z-index:10; }
.card-face{
  position:absolute; inset:0; border-radius:var(--radius); overflow:hidden;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
  backface-visibility:hidden; -webkit-backface-visibility:hidden;
}
.card-front img{ display:block; width:100%; height:100%; object-fit:cover; }
.card-back{
  background:#fff; display:flex; align-items:center; justify-content:center;
  padding:14px; text-align:center; line-height:1.35; font-size:14px; transform:rotateY(180deg);
}
.caption{
  margin-top:8px; text-align:center; font-size:14px; color:var(--caption);
  max-width:var(--card-max); width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

.book-card{ aspect-ratio:3/4; }
.book-card .card-front img{ object-fit:contain; background:#fff; }
.book-card .card-back{ font-size:13px; }

/* Адаптив */
@media (max-width:550px){
  .logo-container img{ width: 170px; }
  .gallery{ grid-template-columns:repeat(auto-fit, minmax(140px, 1fr)); }
  .card-back, .caption{ font-size:13px; }
  .section-toggle{ font-size:1.3rem; }
  :root{ --panel-gap-top:16px; }
}
